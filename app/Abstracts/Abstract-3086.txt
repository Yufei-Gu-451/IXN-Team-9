There is considerable interest in adjusting for suboptimal adherence in randomized controlled trials. A per-protocol analysis, for example removes individuals who fail to achieve a minimal level of adherence. One can also reassign non-adherers to the control group, censor them at the point of non-adherence, or cross them over to the control. However, there are biases inherent in each of these methods. Here, we describe an application of causal modeling to address this issue. The marginal structural model with inverse-probability weighting was implemented using a weighted generalized estimating equation model. Two ancillary models were developed to derive the weights. First, stepwise linear regression was used to model the observed percent weight loss, while stepwise logistic regression model was applied to model early discontinuation from the intervention. From these, participant- and time-specific weights were calculated. This model is complicated and requires careful attention to detail. Which variables to force into the ancillary models, how to construct interaction terms, and how to address time-dependent covariates must be considered. Nevertheless, it can be used to great effect to predict intervention effects at full adherence. Moreover, by contrasting these results against intention-to-treat results, insights can be gained into the intrinsic physiologic effect of the intervention. ClinicalTrials.gov Identifier